<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nizam's Darbar | Authentic Hyderabadi Cuisine</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --saffron: #E8891A;
  --deep: #1a0a00;
  --gold: #D4A017;
  --cream: #FFF8EE;
  --card-bg: #FFFFFF;
  --text: #2D1A00;
  --muted: #7A6040;
  --green: #2E7D32;
  --red: #C62828;
  --border: rgba(212,160,23,0.2);
}
* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--cream); color:var(--text); font-family:'Nunito',sans-serif; }

/* HEADER */
header {
  background: linear-gradient(135deg, #1a0a00 0%, #3d1a00 50%, #1a0a00 100%);
  padding: 0;
  position: sticky; top:0; z-index:200;
  box-shadow: 0 4px 24px rgba(0,0,0,0.3);
}
.header-top {
  display: flex; align-items: center; justify-content: space-between;
  padding: 16px 32px;
  border-bottom: 1px solid rgba(212,160,23,0.3);
}
.logo { display:flex; align-items:center; gap:12px; }
.logo-icon {
  width:48px; height:48px; border-radius:50%;
  background: linear-gradient(135deg, var(--saffron), var(--gold));
  display:flex; align-items:center; justify-content:center;
  font-size:1.5rem;
}
.logo-text h1 {
  font-family:'Cormorant Garamond',serif;
  font-size:1.6rem; font-weight:700; color:#fff; line-height:1;
}
.logo-text span { font-size:0.7rem; color:var(--gold); letter-spacing:0.2em; text-transform:uppercase; }
.cart-btn {
  background: linear-gradient(135deg, var(--saffron), var(--gold));
  border:none; border-radius:100px; padding:10px 20px;
  color:#fff; font-family:'Nunito',sans-serif; font-weight:700;
  cursor:pointer; display:flex; align-items:center; gap:8px;
  font-size:0.9rem; transition:all 0.2s;
}
.cart-btn:hover { transform:scale(1.04); }
.cart-count {
  background:#fff; color:var(--saffron);
  border-radius:50%; width:20px; height:20px;
  display:flex; align-items:center; justify-content:center;
  font-size:0.75rem; font-weight:700;
}

/* NAV CATEGORIES */
.cat-nav {
  display:flex; gap:0; overflow-x:auto; scrollbar-width:none;
  padding: 0 16px;
}
.cat-nav::-webkit-scrollbar { display:none; }
.cat-btn {
  background:none; border:none; color:rgba(255,255,255,0.6);
  font-family:'Nunito',sans-serif; font-size:0.82rem; font-weight:600;
  padding:12px 18px; cursor:pointer; white-space:nowrap;
  position:relative; transition:color 0.2s; letter-spacing:0.05em;
}
.cat-btn::after {
  content:''; position:absolute; bottom:0; left:20%; right:20%;
  height:2px; background:var(--gold); border-radius:2px;
  transform:scaleX(0); transition:transform 0.2s;
}
.cat-btn.active { color:var(--gold); }
.cat-btn.active::after { transform:scaleX(1); }

/* HERO BANNER */
.hero {
  background: linear-gradient(135deg, #1a0a00, #4a1f00);
  padding: 48px 32px;
  text-align:center;
  position:relative; overflow:hidden;
}
.hero::before {
  content:'';position:absolute;inset:0;
  background: radial-gradient(ellipse at 50% 50%, rgba(232,137,26,0.15), transparent 70%);
}
.hero h2 {
  font-family:'Cormorant Garamond',serif;
  font-size:clamp(2rem,5vw,3.5rem); color:#fff; font-weight:700;
  position:relative; margin-bottom:8px;
}
.hero h2 span { color:var(--gold); }
.hero p { color:rgba(255,255,255,0.65); font-size:0.95rem; position:relative; }
.offer-banner {
  display:inline-block; background:var(--saffron); color:#fff;
  border-radius:100px; padding:6px 20px; font-size:0.8rem;
  font-weight:700; margin-top:12px; letter-spacing:0.05em;
  position:relative; animation: pulse2 2s infinite;
}
@keyframes pulse2 {
  0%,100% { box-shadow:0 0 0 0 rgba(232,137,26,0.5); }
  50% { box-shadow:0 0 0 8px rgba(232,137,26,0); }
}

/* SEARCH */
.search-bar {
  max-width:500px; margin:20px auto 0; position:relative; z-index:1;
}
.search-bar input {
  width:100%; padding:12px 20px 12px 44px;
  border-radius:100px; border:2px solid rgba(212,160,23,0.3);
  background:rgba(255,255,255,0.1); color:#fff;
  font-family:'Nunito',sans-serif; font-size:0.9rem; outline:none;
  backdrop-filter:blur(10px);
}
.search-bar input::placeholder { color:rgba(255,255,255,0.4); }
.search-bar .search-icon { position:absolute; left:16px; top:50%; transform:translateY(-50%); font-size:1.1rem; }

/* MAIN LAYOUT */
.main { display:flex; gap:0; min-height:100vh; }
.menu-section { flex:1; padding:24px; }
.section-title {
  font-family:'Cormorant Garamond',serif;
  font-size:1.6rem; font-weight:700; color:var(--deep);
  margin-bottom:20px; display:flex; align-items:center; gap:10px;
}
.section-title::after {
  content:''; flex:1; height:1px;
  background:linear-gradient(to right, var(--gold), transparent);
}

/* DISH GRID */
.dish-grid {
  display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
  gap:16px;
}

/* DISH CARD */
.dish-card {
  background:var(--card-bg);
  border-radius:16px;
  border:1px solid var(--border);
  overflow:hidden;
  box-shadow:0 2px 12px rgba(0,0,0,0.06);
  transition:transform 0.2s, box-shadow 0.2s;
  position:relative;
}
.dish-card:hover { transform:translateY(-4px); box-shadow:0 12px 28px rgba(0,0,0,0.12); }

.dish-img {
  width:100%; height:160px; object-fit:cover;
  background: linear-gradient(135deg, #f5deb3, #d4a017);
  display:flex; align-items:center; justify-content:center;
  font-size:3.5rem; position:relative;
}
.dish-img-emoji { font-size:3.5rem; }

.discount-badge {
  position:absolute; top:10px; left:10px;
  background:var(--red); color:#fff;
  border-radius:100px; padding:4px 10px;
  font-size:0.72rem; font-weight:700;
  display:flex; align-items:center; gap:3px;
}

.veg-badge {
  position:absolute; top:10px; right:10px;
  width:20px; height:20px; border-radius:3px;
  border:2px solid; display:flex; align-items:center; justify-content:center;
}
.veg-badge.veg { border-color:var(--green); }
.veg-badge.veg::after { content:''; width:8px; height:8px; border-radius:50%; background:var(--green); }
.veg-badge.nonveg { border-color:var(--red); }
.veg-badge.nonveg::after { content:''; width:0; height:0; border-left:5px solid transparent; border-right:5px solid transparent; border-bottom:8px solid var(--red); margin-top:2px; }

.dish-info { padding:14px; }
.dish-name { font-weight:700; font-size:0.92rem; margin-bottom:4px; line-height:1.3; }
.dish-desc { color:var(--muted); font-size:0.75rem; line-height:1.5; margin-bottom:10px; }
.dish-footer { display:flex; align-items:center; justify-content:space-between; }
.price-block { display:flex; align-items:center; gap:6px; }
.price-now { font-weight:700; font-size:1rem; color:var(--saffron); }
.price-old { font-size:0.78rem; color:var(--muted); text-decoration:line-through; }

.add-btn {
  background:none; border:2px solid var(--saffron);
  border-radius:8px; padding:5px 12px;
  color:var(--saffron); font-family:'Nunito',sans-serif;
  font-weight:700; font-size:0.82rem; cursor:pointer;
  transition:all 0.15s;
}
.add-btn:hover, .add-btn.added {
  background:var(--saffron); color:#fff;
}
.qty-ctrl {
  display:flex; align-items:center; gap:6px;
}
.qty-ctrl button {
  width:26px; height:26px; border-radius:6px;
  border:none; background:var(--saffron); color:#fff;
  font-size:1rem; cursor:pointer; font-weight:700;
  display:flex; align-items:center; justify-content:center;
}
.qty-ctrl span { font-weight:700; font-size:0.9rem; min-width:16px; text-align:center; }

/* CART PANEL */
.cart-panel {
  width:340px; min-width:340px;
  background:#fff;
  border-left:1px solid var(--border);
  position:sticky; top:100px;
  height:calc(100vh - 100px);
  display:flex; flex-direction:column;
  box-shadow:-4px 0 20px rgba(0,0,0,0.05);
}
.cart-header {
  padding:20px; border-bottom:1px solid var(--border);
  font-family:'Cormorant Garamond',serif;
  font-size:1.3rem; font-weight:700; color:var(--deep);
  display:flex; justify-content:space-between; align-items:center;
}
.cart-items { flex:1; overflow-y:auto; padding:16px; }
.cart-empty {
  text-align:center; padding:40px 20px;
  color:var(--muted);
}
.cart-empty .empty-icon { font-size:3rem; margin-bottom:12px; }
.cart-empty p { font-size:0.9rem; }

.cart-item {
  display:flex; gap:12px; align-items:flex-start;
  padding:10px 0; border-bottom:1px solid var(--border);
}
.cart-item:last-child { border-bottom:none; }
.cart-item-emoji { font-size:1.8rem; flex-shrink:0; }
.cart-item-info { flex:1; }
.cart-item-name { font-weight:700; font-size:0.85rem; margin-bottom:2px; }
.cart-item-price { color:var(--saffron); font-size:0.82rem; font-weight:600; }
.cart-item-ctrl { display:flex; align-items:center; gap:6px; margin-top:6px; }
.cart-item-ctrl button {
  width:22px; height:22px; border-radius:5px;
  border:none; background:var(--saffron); color:#fff;
  font-size:0.9rem; cursor:pointer; font-weight:700;
  display:flex; align-items:center; justify-content:center;
}
.cart-item-ctrl span { font-size:0.82rem; font-weight:700; }

.cart-footer { padding:16px; border-top:1px solid var(--border); }
.cart-totals { margin-bottom:14px; }
.cart-row { display:flex; justify-content:space-between; font-size:0.85rem; padding:3px 0; }
.cart-row.total { font-weight:700; font-size:1rem; border-top:1px dashed var(--border); padding-top:8px; margin-top:4px; }
.cart-row.total .val { color:var(--saffron); font-size:1.1rem; }
.checkout-btn {
  width:100%; padding:14px;
  background:linear-gradient(135deg, var(--saffron), var(--gold));
  border:none; border-radius:12px; color:#fff;
  font-family:'Nunito',sans-serif; font-weight:700; font-size:1rem;
  cursor:pointer; transition:all 0.2s;
}
.checkout-btn:hover { transform:scale(1.02); box-shadow:0 6px 20px rgba(232,137,26,0.4); }

/* PAYMENT MODAL */
.modal-overlay {
  display:none; position:fixed; inset:0;
  background:rgba(0,0,0,0.6); backdrop-filter:blur(4px);
  z-index:1000; align-items:center; justify-content:center;
}
.modal-overlay.open { display:flex; }
.modal {
  background:#fff; border-radius:20px;
  width:min(480px, 92vw); max-height:90vh;
  overflow-y:auto;
  animation:slideUp 0.3s ease;
}
@keyframes slideUp {
  from { opacity:0; transform:translateY(30px); }
  to { opacity:1; transform:translateY(0); }
}
.modal-header {
  background:linear-gradient(135deg, #1a0a00, #3d1a00);
  padding:20px 24px; border-radius:20px 20px 0 0;
  display:flex; justify-content:space-between; align-items:center;
}
.modal-header h3 { font-family:'Cormorant Garamond',serif; color:#fff; font-size:1.4rem; }
.close-btn {
  background:rgba(255,255,255,0.15); border:none; border-radius:50%;
  width:32px; height:32px; color:#fff; cursor:pointer;
  font-size:1.1rem; display:flex; align-items:center; justify-content:center;
}
.modal-body { padding:24px; }

.order-summary { margin-bottom:20px; }
.summary-title { font-weight:700; font-size:0.85rem; color:var(--muted); text-transform:uppercase; letter-spacing:0.1em; margin-bottom:10px; }
.summary-item { display:flex; justify-content:space-between; font-size:0.88rem; padding:5px 0; border-bottom:1px solid #f0e8d8; }
.summary-item:last-child { border:none; }

.bill-box {
  background:#FFF8EE; border-radius:12px; padding:16px;
  margin-bottom:20px; border:1px solid var(--border);
}
.bill-row { display:flex; justify-content:space-between; font-size:0.86rem; padding:4px 0; }
.bill-row.grand { font-weight:700; font-size:1.05rem; border-top:2px dashed var(--gold); margin-top:8px; padding-top:10px; color:var(--saffron); }

.payment-methods { margin-bottom:20px; }
.pay-option {
  border:2px solid var(--border); border-radius:10px; padding:12px 16px;
  margin-bottom:8px; cursor:pointer; display:flex; align-items:center;
  gap:12px; transition:all 0.15s;
}
.pay-option:hover { border-color:var(--saffron); }
.pay-option.selected { border-color:var(--saffron); background:#FFF3E0; }
.pay-icon { font-size:1.4rem; }
.pay-label { font-weight:600; font-size:0.9rem; }
.pay-sub { font-size:0.75rem; color:var(--muted); }
.radio { width:18px; height:18px; border-radius:50%; border:2px solid var(--border); margin-left:auto; flex-shrink:0; transition:all 0.15s; }
.pay-option.selected .radio { border-color:var(--saffron); background:var(--saffron); box-shadow:inset 0 0 0 3px #fff; }

.pay-now-btn {
  width:100%; padding:16px;
  background:linear-gradient(135deg, var(--green), #1B5E20);
  border:none; border-radius:12px; color:#fff;
  font-family:'Nunito',sans-serif; font-weight:700; font-size:1rem;
  cursor:pointer; transition:all 0.2s;
}
.pay-now-btn:hover { transform:scale(1.02); box-shadow:0 6px 20px rgba(46,125,50,0.4); }

/* SUCCESS */
.success-screen {
  display:none; text-align:center; padding:40px 24px;
}
.success-screen.show { display:block; }
.success-icon { font-size:4rem; margin-bottom:16px; animation:bounce 0.6s ease; }
@keyframes bounce { 0%,100%{transform:scale(1)} 50%{transform:scale(1.2)} }
.success-screen h3 { font-family:'Cormorant Garamond',serif; font-size:1.8rem; margin-bottom:8px; color:var(--green); }
.success-screen p { color:var(--muted); font-size:0.9rem; margin-bottom:4px; }
.order-id { font-weight:700; color:var(--saffron); font-size:1rem; margin:12px 0; }
.eta-box {
  background:#E8F5E9; border-radius:12px; padding:14px; margin:16px 0;
  display:flex; align-items:center; gap:10px;
}
.eta-box .eta-icon { font-size:1.5rem; }
.eta-box p { font-size:0.85rem; color:var(--green); font-weight:600; }
.done-btn {
  width:100%; padding:13px;
  background:linear-gradient(135deg, var(--saffron), var(--gold));
  border:none; border-radius:12px; color:#fff;
  font-family:'Nunito',sans-serif; font-weight:700; font-size:0.95rem;
  cursor:pointer; margin-top:8px;
}

/* TOAST */
.toast {
  position:fixed; bottom:24px; left:50%; transform:translateX(-50%);
  background:#333; color:#fff; padding:10px 22px; border-radius:100px;
  font-size:0.85rem; font-weight:600; z-index:2000;
  opacity:0; transition:opacity 0.3s; pointer-events:none;
}
.toast.show { opacity:1; }

/* RESPONSIVE */
@media(max-width:900px) {
  .cart-panel { display:none; }
  .main { flex-direction:column; }
}
@media(max-width:500px) {
  .header-top { padding:12px 16px; }
  .hero { padding:32px 16px; }
  .menu-section { padding:16px; }
  .dish-grid { grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); }
}
</style>
</head>
<body>

<!-- HEADER -->
<header>
  <div class="header-top">
    <div class="logo">
      <div class="logo-icon">&#127869;</div>
      <div class="logo-text">
        <h1>Nizam's Darbar</h1>
        <span>Authentic Hyderabadi Cuisine</span>
      </div>
    </div>
    <button class="cart-btn" onclick="scrollToCart()">
      &#128722; Your Cart <span class="cart-count" id="cartCount">0</span>
    </button>
  </div>
  <div class="cat-nav" id="catNav">
    <button class="cat-btn active" onclick="filterCat('all',this)">&#127859; All Dishes</button>
    <button class="cat-btn" onclick="filterCat('biryani',this)">&#127859; Biryani</button>
    <button class="cat-btn" onclick="filterCat('kebab',this)">&#129385; Kebabs</button>
    <button class="cat-btn" onclick="filterCat('curry',this)">&#127858; Curries</button>
    <button class="cat-btn" onclick="filterCat('snack',this)">&#127839; Snacks</button>
    <button class="cat-btn" onclick="filterCat('dessert',this)">&#129473; Desserts</button>
    <button class="cat-btn" onclick="filterCat('drinks',this)">&#9749; Drinks</button>
  </div>
</header>

<!-- HERO -->
<div class="hero">
  <h2>Royal Flavours of <span>Hyderabad</span></h2>
  <p>50 Iconic Dishes &bull; Fresh Ingredients &bull; Delivered in 30 mins</p>
  <div class="offer-banner">&#127381; UP TO 30% OFF on selected dishes today!</div>
  <div class="search-bar">
    <span class="search-icon">&#128269;</span>
    <input type="text" id="searchInput" placeholder="Search biryani, haleem, kebabs..." oninput="searchDishes()">
  </div>
</div>

<!-- MAIN -->
<div class="main">
  <div class="menu-section">
    <div class="section-title" id="sectionTitle">&#127859; All 50 Dishes</div>
    <div class="dish-grid" id="dishGrid"></div>
  </div>

  <!-- CART -->
  <div class="cart-panel" id="cartPanel">
    <div class="cart-header">
      <span>&#128722; Your Order</span>
      <span style="font-size:0.85rem;color:var(--muted);font-family:'Nunito',sans-serif;" id="itemCountLabel">0 items</span>
    </div>
    <div class="cart-items" id="cartItems">
      <div class="cart-empty">
        <div class="empty-icon">&#127869;</div>
        <p>Your cart is empty.<br>Add your favourite dishes!</p>
      </div>
    </div>
    <div class="cart-footer" id="cartFooter" style="display:none;">
      <div class="cart-totals">
        <div class="cart-row"><span>Subtotal</span><span id="subtotal">&#8377;0</span></div>
        <div class="cart-row"><span>Discount</span><span style="color:var(--green)" id="discountAmt">-&#8377;0</span></div>
        <div class="cart-row"><span>Delivery</span><span id="delivery">&#8377;40</span></div>
        <div class="cart-row"><span>GST (5%)</span><span id="gst">&#8377;0</span></div>
        <div class="cart-row total"><span>Total</span><span class="val" id="totalAmt">&#8377;0</span></div>
      </div>
      <button class="checkout-btn" onclick="openPayment()">&#9889; Proceed to Pay</button>
    </div>
  </div>
</div>

<!-- PAYMENT MODAL -->
<div class="modal-overlay" id="payModal">
  <div class="modal">
    <div class="modal-header">
      <h3>&#128179; Payment Details</h3>
      <button class="close-btn" onclick="closePayment()">&#10005;</button>
    </div>

    <!-- Order + Pay screen -->
    <div id="payScreen">
      <div class="modal-body">
        <div class="order-summary">
          <div class="summary-title">Order Summary</div>
          <div id="modalOrderList"></div>
        </div>

        <div class="bill-box">
          <div class="summary-title" style="margin-bottom:10px;">Bill Breakdown</div>
          <div class="bill-row"><span>Item Total</span><span id="m-subtotal">&#8377;0</span></div>
          <div class="bill-row"><span>Discount Savings</span><span style="color:var(--green)" id="m-discount">-&#8377;0</span></div>
          <div class="bill-row"><span>Delivery Charges</span><span id="m-delivery">&#8377;40</span></div>
          <div class="bill-row"><span>GST (5%)</span><span id="m-gst">&#8377;0</span></div>
          <div class="bill-row grand"><span>Grand Total</span><span id="m-total">&#8377;0</span></div>
        </div>

        <div class="payment-methods">
          <div class="summary-title">Choose Payment Method</div>
          <div class="pay-option selected" onclick="selectPay(this,'upi')">
            <span class="pay-icon">&#128241;</span>
            <div><div class="pay-label">UPI / GPay / PhonePe</div><div class="pay-sub">Instant payment</div></div>
            <div class="radio"></div>
          </div>
          <div class="pay-option" onclick="selectPay(this,'card')">
            <span class="pay-icon">&#128179;</span>
            <div><div class="pay-label">Credit / Debit Card</div><div class="pay-sub">Visa, Mastercard, RuPay</div></div>
            <div class="radio"></div>
          </div>
          <div class="pay-option" onclick="selectPay(this,'netbank')">
            <span class="pay-icon">&#127968;</span>
            <div><div class="pay-label">Net Banking</div><div class="pay-sub">All major banks</div></div>
            <div class="radio"></div>
          </div>
          <div class="pay-option" onclick="selectPay(this,'cod')">
            <span class="pay-icon">&#128181;</span>
            <div><div class="pay-label">Cash on Delivery</div><div class="pay-sub">Pay when you receive</div></div>
            <div class="radio"></div>
          </div>
        </div>

        <button class="pay-now-btn" onclick="placeOrder()">&#10004; Place Order &amp; Pay</button>
      </div>
    </div>

    <!-- Success screen -->
    <div class="success-screen" id="successScreen">
      <div class="success-icon">&#127881;</div>
      <h3>Order Placed!</h3>
      <p>Thank you for ordering from Nizam's Darbar</p>
      <div class="order-id" id="orderId"></div>
      <div class="eta-box">
        <span class="eta-icon">&#128664;</span>
        <p>Your food will be delivered in <strong>25&ndash;35 minutes</strong></p>
      </div>
      <p style="font-size:0.8rem;color:var(--muted);">Payment: <strong id="payMethodLabel">UPI</strong></p>
      <p style="font-size:0.8rem;color:var(--muted);margin-top:4px;">Amount Paid: <strong id="paidAmt" style="color:var(--saffron)"></strong></p>
      <button class="done-btn" onclick="closeSuccess()">&#127968; Back to Menu</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
// ‚îÄ‚îÄ 50 HYDERABADI DISHES ‚îÄ‚îÄ
const dishes = [
  // BIRYANI
  { id:1,  name:"Hyderabadi Dum Biryani",    emoji:"&#127859;", cat:"biryani", veg:false, price:349, oldPrice:469, disc:25, desc:"Aromatic basmati rice with tender mutton, slow-cooked dum style with saffron & whole spices" },
  { id:2,  name:"Chicken Biryani",           emoji:"&#127859;", cat:"biryani", veg:false, price:279, oldPrice:349, disc:20, desc:"Juicy chicken pieces layered with fragrant basmati rice and Hyderabadi spices" },
  { id:3,  name:"Veg Dum Biryani",           emoji:"&#127859;", cat:"biryani", veg:true,  price:199, oldPrice:249, disc:20, desc:"Mixed vegetables and paneer slow-cooked with basmati rice and aromatic spices" },
  { id:4,  name:"Kalyani Biryani",           emoji:"&#127859;", cat:"biryani", veg:false, price:259, oldPrice:329, disc:21, desc:"Budget-friendly Hyderabadi biryani with beef, a favourite from Old City" },
  { id:5,  name:"Egg Biryani",               emoji:"&#127859;", cat:"biryani", veg:false, price:179, oldPrice:229, disc:21, desc:"Boiled eggs nestled in spiced basmati rice, garnished with fried onions & mint" },
  { id:6,  name:"Prawn Biryani",             emoji:"&#127859;", cat:"biryani", veg:false, price:389, oldPrice:499, disc:22, desc:"Juicy prawns marinated in coastal spices layered with premium long-grain rice" },
  { id:7,  name:"Mushroom Biryani",          emoji:"&#127859;", cat:"biryani", veg:true,  price:189, oldPrice:239, disc:20, desc:"Earthy mushrooms and caramelised onions in fragrant saffron rice" },

  // KEBABS
  { id:8,  name:"Shami Kebab",               emoji:"&#129385;", cat:"kebab",   veg:false, price:199, oldPrice:269, disc:26, desc:"Silky minced mutton patties with chana dal, served with green chutney" },
  { id:9,  name:"Seekh Kebab",               emoji:"&#129385;", cat:"kebab",   veg:false, price:229, oldPrice:299, disc:23, desc:"Spiced minced meat on skewers, char-grilled to smoky perfection" },
  { id:10, name:"Boti Kebab",                emoji:"&#129385;", cat:"kebab",   veg:false, price:249, oldPrice:329, disc:24, desc:"Chunks of marinated mutton grilled on coal ‚Äî tender, smoky, irresistible" },
  { id:11, name:"Galouti Kebab",             emoji:"&#129385;", cat:"kebab",   veg:false, price:289, oldPrice:379, disc:23, desc:"Melt-in-the-mouth minced lamb patties with over 100 spices, Lucknowi origin" },
  { id:12, name:"Kakori Kebab",              emoji:"&#129385;", cat:"kebab",   veg:false, price:269, oldPrice:349, disc:22, desc:"Silky, melt-away mutton kebabs on thin skewers ‚Äî a royal treat" },
  { id:13, name:"Hara Bhara Kebab",          emoji:"&#129385;", cat:"kebab",   veg:true,  price:179, oldPrice:229, disc:21, desc:"Pan-fried spinach, peas & paneer patties ‚Äî crisp outside, soft inside" },
  { id:14, name:"Chicken Malai Tikka",       emoji:"&#129385;", cat:"kebab",   veg:false, price:239, oldPrice:309, disc:22, desc:"Creamy marinated chicken tikka grilled to a golden char" },

  // CURRIES
  { id:15, name:"Haleem",                    emoji:"&#127858;", cat:"curry",   veg:false, price:229, oldPrice:299, disc:23, desc:"Slow-cooked wheat & mutton stew with spices ‚Äî the legendary Ramadan dish" },
  { id:16, name:"Mutton Marag",              emoji:"&#127858;", cat:"curry",   veg:false, price:279, oldPrice:349, disc:20, desc:"Delicate mutton bone broth soup ‚Äî Hyderabad's beloved wedding starter" },
  { id:17, name:"Mirchi Ka Salan",           emoji:"&#127858;", cat:"curry",   veg:true,  price:149, oldPrice:199, disc:25, desc:"Green chillies in a rich peanut, coconut & sesame gravy ‚Äî biryani's perfect partner" },
  { id:18, name:"Bagara Baingan",            emoji:"&#127858;", cat:"curry",   veg:true,  price:159, oldPrice:209, disc:23, desc:"Baby eggplants stuffed and cooked in a rich tamarind & peanut gravy" },
  { id:19, name:"Mutton Dalcha",             emoji:"&#127858;", cat:"curry",   veg:false, price:249, oldPrice:319, disc:21, desc:"Mutton and chana dal slow-cooked with bottle gourd ‚Äî comfort in a bowl" },
  { id:20, name:"Paya Curry",               emoji:"&#127858;", cat:"curry",   veg:false, price:239, oldPrice:299, disc:19, desc:"Slow-cooked goat trotters in a rich spiced broth, best with naan" },
  { id:21, name:"Nihari",                   emoji:"&#127858;", cat:"curry",   veg:false, price:259, oldPrice:339, disc:23, desc:"Slow-cooked meat stew, infused overnight with warm spices ‚Äî a Hyderabadi breakfast legend" },
  { id:22, name:"Butter Chicken",           emoji:"&#127858;", cat:"curry",   veg:false, price:279, oldPrice:349, disc:20, desc:"Tender chicken in a velvety tomato-butter-cream gravy, mildly spiced" },
  { id:23, name:"Malai Paya",               emoji:"&#127858;", cat:"curry",   veg:false, price:259, oldPrice:329, disc:21, desc:"Goat trotters cooked softly in creamy milk and butter sauce" },
  { id:24, name:"Dal Tadka",                emoji:"&#127858;", cat:"curry",   veg:true,  price:129, oldPrice:169, disc:23, desc:"Hyderabadi lentils tempered with mustard, curry leaves, and dried red chillies" },
  { id:25, name:"Paneer Makhani",           emoji:"&#127858;", cat:"curry",   veg:true,  price:219, oldPrice:279, disc:21, desc:"Paneer cubes in a luscious saffron-tomato butter gravy" },
  { id:26, name:"Chicken 65",               emoji:"&#127858;", cat:"curry",   veg:false, price:199, oldPrice:259, disc:23, desc:"Deep-fried crispy chicken with curry leaves ‚Äî Hyderabad's favourite starter" },
  { id:27, name:"Andhra Chicken Curry",     emoji:"&#127858;", cat:"curry",   veg:false, price:229, oldPrice:299, disc:23, desc:"Fiery Andhra-style chicken curry with a bold red masala base" },
  { id:28, name:"Bheja Fry",               emoji:"&#127858;", cat:"curry",   veg:false, price:189, oldPrice:249, disc:24, desc:"Spicy pan-fried goat brain ‚Äî an Old City breakfast delicacy" },

  // SNACKS
  { id:29, name:"Mirchi Bajji",             emoji:"&#127839;", cat:"snack",   veg:true,  price:59,  oldPrice:79,  disc:25, desc:"Large green chillies dipped in gram flour batter and deep-fried ‚Äî served with tamarind chutney" },
  { id:30, name:"Keema Samosa",             emoji:"&#127839;", cat:"snack",   veg:false, price:79,  oldPrice:99,  disc:20, desc:"Crispy pastry pockets stuffed with spiced minced meat ‚Äî iconic street snack" },
  { id:31, name:"Pesarattu",               emoji:"&#127839;", cat:"snack",   veg:true,  price:99,  oldPrice:129, disc:23, desc:"Crisp green gram crepe with upma filling ‚Äî a classic Andhra breakfast" },
  { id:32, name:"Pav Bhaji",               emoji:"&#127839;", cat:"snack",   veg:true,  price:109, oldPrice:149, disc:26, desc:"Spicy mixed vegetable mash with buttered pav ‚Äî Hyderabadi street-style" },
  { id:33, name:"Vada Pav",               emoji:"&#127839;", cat:"snack",   veg:true,  price:49,  oldPrice:69,  disc:29, desc:"Mumbai-meets-Hyderabad spicy potato fritter in a soft pav" },
  { id:34, name:"Aloo Tikki",             emoji:"&#127839;", cat:"snack",   veg:true,  price:69,  oldPrice:89,  disc:22, desc:"Crispy potato patties served with tamarind, green chutney and yogurt" },
  { id:35, name:"Bread Pakora",           emoji:"&#127839;", cat:"snack",   veg:true,  price:59,  oldPrice:79,  disc:25, desc:"Stuffed bread fritters with a spicy potato filling ‚Äî perfect tea companion" },
  { id:36, name:"Mutton Roll",            emoji:"&#127839;", cat:"snack",   veg:false, price:129, oldPrice:169, disc:23, desc:"Spiced minced mutton wrapped in a flaky paratha with onions and chutney" },
  { id:37, name:"Shawarma",              emoji:"&#127839;", cat:"snack",   veg:false, price:119, oldPrice:159, disc:25, desc:"Hyderabadi-style chicken shawarma with garlic sauce in soft bread" },
  { id:38, name:"Osmania Biscuit",       emoji:"&#127839;", cat:"snack",   veg:true,  price:49,  oldPrice:59,  disc:16, desc:"Soft, buttery biscuits named after the Nizam ‚Äî perfect with Irani chai" },
  { id:39, name:"Dahi Puri",             emoji:"&#127839;", cat:"snack",   veg:true,  price:79,  oldPrice:99,  disc:20, desc:"Crispy puris filled with potatoes and drenched in sweet & tangy chutneys" },
  { id:40, name:"Andhra Meals Thali",   emoji:"&#127839;", cat:"snack",   veg:true,  price:169, oldPrice:229, disc:26, desc:"Unlimited banana leaf Andhra thali with rice, curries, papads, and pickles" },

  // DESSERTS
  { id:41, name:"Qubani Ka Meetha",     emoji:"&#129473;", cat:"dessert", veg:true,  price:99,  oldPrice:129, disc:23, desc:"Slow-cooked dried apricots in sugar syrup topped with fresh cream ‚Äî royal dessert" },
  { id:42, name:"Double Ka Meetha",    emoji:"&#129473;", cat:"dessert", veg:true,  price:89,  oldPrice:119, disc:25, desc:"Deep-fried bread soaked in saffron milk, garnished with nuts ‚Äî Hyderabad's bread pudding" },
  { id:43, name:"Phirni",             emoji:"&#129473;", cat:"dessert", veg:true,  price:79,  oldPrice:99,  disc:20, desc:"Creamy ground rice pudding with rose water and cardamom, served chilled" },
  { id:44, name:"Jauzi Halwa",        emoji:"&#129473;", cat:"dessert", veg:true,  price:119, oldPrice:149, disc:20, desc:"The Nizam's favourite sweet ‚Äî rich halwa from oat milk, ghee, saffron & dry fruits" },
  { id:45, name:"Shahi Tukda",        emoji:"&#129473;", cat:"dessert", veg:true,  price:89,  oldPrice:119, disc:25, desc:"Fried bread topped with rabri, saffron, pistachios ‚Äî a Mughal dessert" },
  { id:46, name:"Khubani Ice Cream",  emoji:"&#129473;", cat:"dessert", veg:true,  price:99,  oldPrice:129, disc:23, desc:"Apricot-flavoured handmade ice cream ‚Äî a Hyderabadi frozen classic" },

  // DRINKS
  { id:47, name:"Irani Chai",         emoji:"&#9749;",  cat:"drinks",  veg:true,  price:39,  oldPrice:49,  disc:20, desc:"Persian-style creamy tea brewed in an urn ‚Äî best with Osmania biscuits" },
  { id:48, name:"Sharbat-e-Rooh Afza", emoji:"&#9749;", cat:"drinks",  veg:true,  price:59,  oldPrice:79,  disc:25, desc:"Chilled rose syrup drink ‚Äî Hyderabad's summer favourite" },
  { id:49, name:"Lassi",             emoji:"&#9749;",  cat:"drinks",  veg:true,  price:69,  oldPrice:89,  disc:22, desc:"Thick sweet yogurt drink with cardamom, topped with malai" },
  { id:50, name:"Kesar Badam Milk",  emoji:"&#9749;",  cat:"drinks",  veg:true,  price:89,  oldPrice:109, disc:18, desc:"Warm saffron almond milk ‚Äî a soothing royal drink from Nizam's kitchens" },
];

// ‚îÄ‚îÄ STATE ‚îÄ‚îÄ
let cart = {};
let currentCat = 'all';
let searchTerm = '';
let selectedPay = 'upi';

// ‚îÄ‚îÄ RENDER MENU ‚îÄ‚îÄ
function renderDishes() {
  const grid = document.getElementById('dishGrid');
  const filtered = dishes.filter(d => {
    const matchCat = currentCat === 'all' || d.cat === currentCat;
    const matchSearch = d.name.toLowerCase().includes(searchTerm) || d.desc.toLowerCase().includes(searchTerm);
    return matchCat && matchSearch;
  });

  document.getElementById('sectionTitle').textContent = currentCat === 'all'
    ? 'üçΩÔ∏è All 50 Dishes'
    : 'üçΩÔ∏è ' + filtered.length + ' Dishes Found';

  grid.innerHTML = filtered.map(d => {
    const inCart = cart[d.id] || 0;
    return `
    <div class="dish-card" data-id="${d.id}">
      <div class="dish-img">
        <span class="dish-img-emoji">${d.emoji}</span>
        <div class="discount-badge">üè∑Ô∏è ${d.disc}% OFF</div>
        <div class="veg-badge ${d.veg ? 'veg' : 'nonveg'}"></div>
      </div>
      <div class="dish-info">
        <div class="dish-name">${d.name}</div>
        <div class="dish-desc">${d.desc}</div>
        <div class="dish-footer">
          <div class="price-block">
            <span class="price-now">&#8377;${d.price}</span>
            <span class="price-old">&#8377;${d.oldPrice}</span>
          </div>
          ${inCart === 0
            ? `<button class="add-btn" onclick="addItem(${d.id})">+ ADD</button>`
            : `<div class="qty-ctrl">
                <button onclick="removeItem(${d.id})">&#8722;</button>
                <span>${inCart}</span>
                <button onclick="addItem(${d.id})">&#43;</button>
              </div>`
          }
        </div>
      </div>
    </div>`;
  }).join('');
}

function filterCat(cat, btn) {
  currentCat = cat;
  document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderDishes();
}

function searchDishes() {
  searchTerm = document.getElementById('searchInput').value.toLowerCase();
  renderDishes();
}

// ‚îÄ‚îÄ CART LOGIC ‚îÄ‚îÄ
function addItem(id) {
  cart[id] = (cart[id] || 0) + 1;
  updateCart();
  showToast('Added to cart!');
  renderDishes();
}

function removeItem(id) {
  if (cart[id] > 1) cart[id]--;
  else delete cart[id];
  updateCart();
  renderDishes();
}

function updateCart() {
  const keys = Object.keys(cart);
  const count = keys.reduce((s, k) => s + cart[k], 0);
  document.getElementById('cartCount').textContent = count;
  document.getElementById('itemCountLabel').textContent = count + ' item' + (count !== 1 ? 's' : '');

  const cartItems = document.getElementById('cartItems');
  const cartFooter = document.getElementById('cartFooter');

  if (keys.length === 0) {
    cartItems.innerHTML = `<div class="cart-empty"><div class="empty-icon">&#127869;</div><p>Your cart is empty.<br>Add your favourite dishes!</p></div>`;
    cartFooter.style.display = 'none';
    return;
  }

  let subtotal = 0, discount = 0;
  cartItems.innerHTML = keys.map(k => {
    const d = dishes.find(x => x.id == k);
    const qty = cart[k];
    const lineTotal = d.price * qty;
    const lineDisc = (d.oldPrice - d.price) * qty;
    subtotal += lineTotal;
    discount += lineDisc;
    return `
    <div class="cart-item">
      <span class="cart-item-emoji">${d.emoji}</span>
      <div class="cart-item-info">
        <div class="cart-item-name">${d.name}</div>
        <div class="cart-item-price">&#8377;${d.price} each</div>
        <div class="cart-item-ctrl">
          <button onclick="removeItem(${d.id})">&#8722;</button>
          <span>${qty}</span>
          <button onclick="addItem(${d.id})">&#43;</button>
          <span style="margin-left:4px;font-weight:700;font-size:0.82rem;">= &#8377;${lineTotal}</span>
        </div>
      </div>
    </div>`;
  }).join('');

  const gst = Math.round(subtotal * 0.05);
  const delivery = subtotal > 500 ? 0 : 40;
  const total = subtotal + gst + delivery;

  document.getElementById('subtotal').textContent = '‚Çπ' + subtotal;
  document.getElementById('discountAmt').textContent = '-‚Çπ' + discount;
  document.getElementById('gst').textContent = '‚Çπ' + gst;
  document.getElementById('delivery').textContent = delivery === 0 ? 'FREE' : '‚Çπ' + delivery;
  document.getElementById('totalAmt').textContent = '‚Çπ' + total;

  cartFooter.style.display = 'block';
}

// ‚îÄ‚îÄ PAYMENT ‚îÄ‚îÄ
function openPayment() {
  if (Object.keys(cart).length === 0) { showToast('Your cart is empty!'); return; }
  const keys = Object.keys(cart);
  let subtotal = 0, discount = 0;
  const listHtml = keys.map(k => {
    const d = dishes.find(x => x.id == k);
    const qty = cart[k];
    subtotal += d.price * qty;
    discount += (d.oldPrice - d.price) * qty;
    return `<div class="summary-item"><span>${d.name} x${qty}</span><span>&#8377;${d.price * qty}</span></div>`;
  }).join('');

  document.getElementById('modalOrderList').innerHTML = listHtml;
  const gst = Math.round(subtotal * 0.05);
  const delivery = subtotal > 500 ? 0 : 40;
  const total = subtotal + gst + delivery;

  document.getElementById('m-subtotal').textContent = '‚Çπ' + subtotal;
  document.getElementById('m-discount').textContent = '-‚Çπ' + discount;
  document.getElementById('m-gst').textContent = '‚Çπ' + gst;
  document.getElementById('m-delivery').textContent = delivery === 0 ? 'FREE' : '‚Çπ' + delivery;
  document.getElementById('m-total').textContent = '‚Çπ' + total;

  document.getElementById('payScreen').style.display = 'block';
  document.getElementById('successScreen').classList.remove('show');
  document.getElementById('payModal').classList.add('open');
}

function closePayment() {
  document.getElementById('payModal').classList.remove('open');
}

function selectPay(el, method) {
  document.querySelectorAll('.pay-option').forEach(o => o.classList.remove('selected'));
  el.classList.add('selected');
  selectedPay = method;
}

function placeOrder() {
  const orderId = 'ND' + Date.now().toString().slice(-6);
  const payLabels = { upi:'UPI / GPay', card:'Credit/Debit Card', netbank:'Net Banking', cod:'Cash on Delivery' };
  document.getElementById('orderId').textContent = 'Order ID: ' + orderId;
  document.getElementById('payMethodLabel').textContent = payLabels[selectedPay];
  document.getElementById('paidAmt').textContent = document.getElementById('m-total').textContent;
  document.getElementById('payScreen').style.display = 'none';
  document.getElementById('successScreen').classList.add('show');
}

function closeSuccess() {
  document.getElementById('payModal').classList.remove('open');
  cart = {};
  updateCart();
  renderDishes();
  showToast('Thank you! Enjoy your meal ‚ù§Ô∏è');
}

// ‚îÄ‚îÄ HELPERS ‚îÄ‚îÄ
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2200);
}

function scrollToCart() {
  document.getElementById('cartPanel').scrollIntoView({ behavior:'smooth' });
}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
renderDishes();
</script>
</body>
</html>
